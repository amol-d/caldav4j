#summary Building for Android

= Introduction =

Add your content here.
Sudheer used caldav4j to write a caldav client for Android. To use that client, which is based on default Android package, you have to follow these steps:
 # checkout android sources v 2.2
 # build android from scratch
 # replace the Calendar android sources with the one provided by Sudheet
 # build again
 # get the Calendar.apk
 # install it on your emulator

= Details =

 == Prepare your environment: Java, git, repo ==
 # java 1,5 for froyo (aka android 2.2)
 * sudo add-apt-repository "deb http://archive.ubuntu.com/ubuntu dapper main multiverse"
 * sudo add-apt-repository "deb http://archive.ubuntu.com/ubuntu dapper-updates main multiverse"
 * sudo apt-get update
 * sudo apt-get install sun-java5-jdk
 * sudo update-java-alternatives -s java-1.5.0-sun 
 # git & g++
 * sudo apt-get install git-core gnupg flex bison gperf build-essential zip curl zlib1g-dev gcc-multilib g++-multilib libc6-dev-i386 lib32ncurses5-dev ia32-libs x11proto-core-dev libx11-dev lib32readline5-dev lib32z-dev
 # repo
 * curl http://android.git.kernel.org/repo > ~/bin/repo
 * chmod a+x ~/bin/repo


 == Get android sources ==
 # mkdir -p ~/droid/
 # cd ~/droid/
 # repo init -u git://android.git.kernel.org/platform/manifest.git  -b froyo-plus-aosp
 # repo sync

 == Build on 32bit ==
 after getting android sources, you need to apply this patch to build on 32 bit arch.

http://android-platform.googlegroups.com/attach/5e699c57ad5cf04b/for-32-bit-compilation.patch?view=1&part=2

Building requires about 10Gb disk space and an hour on my Core2Duo laptop

 == Replace Calendar app with our one ==

 == Install the Calendar.apk on your emulator ==
 see http://openhandsetmagazine.com/2008/01/tips-how-to-install-apk-files-on-android-emulator/